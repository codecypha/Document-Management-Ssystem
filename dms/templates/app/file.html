{% extends 'base/base.html' %}
{% load static %}
{% load widget_tweaks %}
{% block content %}


<div class="container-fluid">
    <div class="row">
        <div class="col s12">

            <!-- Column -->
            <div class="card">
                <div class="card-content">
                    <div class="d-flex no-block align-items-center">
                        <h5 class="card-title">Folder: {{ folder_name}} Contains {{ file_count}} Files</h5> 
                        <div class="ml-auto">
                            <a class="waves-effect waves-light btn blue-green btn-small modal-trigger" href="#modal2">Upload Document</a>
                            
                        </div>
                    </div>
                
                    <div class="table-responsive">
                        <table id="zero_config" class="responsive-table display" style="width:100%">
                            <thead>
                                <tr>

                                    <th>Name</th>
                                    <th>Tag</th>
                                    <th>Retention</th>upload_file
                                    <th>Create Date</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                           
                            <tbody>
                                {% for folder in folder_list %}
                                <tr id="1" class="gradeX">
                                
                                    <!-- <td><i class="small material-icons">folder</i>{{department.department_name}}</td> -->
                                    <td><a href="{% url 'folder' folder.id %}"> <i class="small material-icons">insert_drive_file</i>{{folder.folder_name}}</a> </td>
                                    <td>{{folder.tag}}</td>
                                    <td>{{folder.retention}} </td>
                                    <td>{{folder.entry_date}} </td>
                                    <td>   
                                <a href="#"> <button type="button" class="waves-effect waves-light btn-sm btn-round blue">Modify</button></a>
                                <!-- <a class="waves-effect waves-light blue-green btn blue-green btn-small modal-trigger" href="#modal3">Add Folder</a> -->
                                <!-- <a class="waves-effect waves-light blue-green btn-sma btn-round modal-trigger" href="#modal3">Add Folder</a> -->
                                
                                <a href="#"> <button type="button" class="waves-effect waves-light btn-sm btn-round green">Explore</button></a>
                                <a href="#"> <button type="button" class="waves-effect waves-light btn-sm btn-round cyan">Approval</button></a>
                                <a href="#"> <button type="button" class="waves-effect waves-light  btn-round grey">Share</button></a>        
                                <a href="#"> <button type="button" class="waves-effect waves-light btn-sm btn-round red">Delete</button></a>
                            </td>
                             
                                </tr>
                                {% endfor %}
                            </tbody>
                           
                        </table>
                    </div>
                </div>
            </div>
 
        </div>
    </div>
</div>

            <form action="" method="post">
                {% csrf_token %}
            <!-- Create Modal Structure -->
            <div id="modal2" class="modal">
                <div class="modal-content">
                    <h5 class="card-title"> <i class="fas fa-warehouse m-r-10"></i>New Folder</h5>
                    <div class="row">
                        
                        <form class="col s12">

                            <div class="row">
                                    <div class="file-field input-field col s6 m6">
                                        <div class="btn blue darken-1">
                                            <span>File</span>
                                            <input type="file" multiple>
                                        </div>
                                        <div class="file-path-wrapper">
                                            {% render_field form.folder_name type="text" id="icon_prefix" class="file-path validate" placeholder="Upload one or more files"%}
                                        </div>
                                    </div>
                            </div>
                            <div class="row">
                                <div class="input-field col s6 m6">
                                    <!-- <input id="icon_prefix" type="text" class="validate"> -->
                                    {% render_field form.folder_name type="text" id="icon_prefix" class="validate" %}
                                    <label for="icon_prefix">Enter Name Here</label>
                                </div>
                            </div>

                            <div class="row">
                                <label><h6>Retention</h6></label>
                                <b>You can choose to have files in this folder to be automatically set inactive/deleted after certain time.</b>
                                <div class="input-field col s9 m6">  
                                {% render_field form.retention type="text" id="icon_prefix" class="validate" %}
                                </div>
      
                            </div>

                            <div class="row">
                                <div class="input-field col s4 m4">
                                    <!-- <input id="icon_prefix" type="text" class="validate"> -->
                                    {% render_field form.retention_count type="text" id="icon_prefix" class="validate" %}
                                    <label for="icon_prefix">After</label>
                                </div>
                                <div class="input-field col s4 m4">
                                    <!-- <input id="icon_prefix" type="text" class="validate"> -->
                                    {% render_field form.period type="text" id="icon_prefix" class="validate" %}
                                    <label for="icon_prefix"></label>
                                </div>
                                <div class="input-field col s4 m4">
                                    <!-- <input id="icon_prefix" type="text" class="validate"> -->
                                    {% render_field form.action type="text" id="icon_prefix" class="validate" %}
                                    <label for="icon_prefix">Take the following action</label>
                                </div>
                            </div>

                        </form>

                    </div>
                </div>
                <div class="modal-footer">
                    <!-- <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat indigo white-text"><i class="far fa-save m-r-10"></i> Save Contact</a>
                    <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat indigo white-text"><i class="far fa-save m-r-10 btn btn-success"></i> Save Contact</a> -->
                   
                    <button  type="submit" class="modal-action modal-close waves-effect waves-green btn-small indigo white-text "><i class="far fa-save m-r-10"></i>Save</button>
                </div>
            </div>
        </form>

    
    <!-- ============================================================== -->
    <!-- All Required js -->
    <!-- ============================================================== -->
    <!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script> -->
    <script src="{% static  'js/jquery/jquery.min.js' %}"></script>
    <script src="{% static  'js/custom.min.js' %}"></script>
    <!-- ============================================================== -->
    <!-- This page plugin js -->
    <!-- ============================================================== -->
    <script src="{% static 'extra-libs/DataTables/datatables.min.js' %}"></script>
    <script src="{% static 'js/pages/datatable/datatable-basic.init.js' %}"></script>

{% endblock %}